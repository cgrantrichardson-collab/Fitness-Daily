<!doctype html>
<html lang="en"><head><meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>Fitness Daily v17</title>
<link rel="manifest" href="manifest.webmanifest"><link rel="icon" href="favicon.png" sizes="32x32">
<link rel="apple-touch-icon" href="icon-180.png"><meta name="theme-color" content="#000000">
<style>
:root{--bg:#0b0d10;--panel:#12151b;--ink:#e6e6e6;--muted:#9aa3b2;--line:#22272e;--accent:#ff2424}
*{box-sizing:border-box} html,body{margin:0;height:100%;background:var(--bg);color:var(--ink);font-family:-apple-system,system-ui,Segoe UI,Roboto,Helvetica,Arial,sans-serif}
.bar{width:220px;max-width:45vw;height:10px;background:#0e1116;border:1px solid var(--line);border-radius:999px;overflow:hidden;display:inline-block;vertical-align:middle;margin-left:8px}
.fill{height:100%;background:var(--accent);width:0%}
.targetBadge{font-size:12px;color:#c9d1d9;margin-left:6px}
</style></head>
<body>
<p>Nutrition totals demo with calorie target</p>
<div>
  <span id="calTotal">0 kcal</span>
  <span class="bar"><span id="kBar" class="fill"></span></span><span id="kTarget" class="targetBadge"></span>
</div>
<script>
// minimal to illustrate new calorie target
const db = JSON.parse(localStorage.getItem('fdaily')||'{}');
function getPref(k,def){return (db['_pref_'+k]??def);}
function setPref(k,v){db['_pref_'+k]=v; localStorage.setItem('fdaily',JSON.stringify(db));}
if(getPref('macro_K',null)==null) setPref('macro_K',2500);

function updateCalories(kcal){
  const tgt = getPref('macro_K',2500);
  document.getElementById('calTotal').textContent = kcal+" kcal";
  document.getElementById('kBar').style.width = Math.min(100, (kcal/tgt*100)).toFixed(0)+"%";
  document.getElementById('kTarget').textContent = "/ "+tgt+" kcal";
}
updateCalories(1800);
</script>
</body></html>